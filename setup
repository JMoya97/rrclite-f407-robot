#!/usr/bin/env bash
set -euo pipefail

# Use your repo URL here:
REMOTE_URL="https://github.com/JMoya97/rrclite-f407-robot.git"

# Make sure we're in a git repo
git rev-parse --is-inside-work-tree >/dev/null 2>&1 || {
  echo "Not a git repo"; exit 1;
}

# Add 'origin' if it's missing (safe, edits only .git/config)
if ! git config --get remote.origin.url >/dev/null 2>&1; then
  echo "Adding remote 'origin' -> $REMOTE_URL"
  git remote add origin "$REMOTE_URL" || git remote set-url origin "$REMOTE_URL"
else
  echo "Remote already set: $(git config remote.origin.url)"
fi

echo "setup: done (non-mutating)."
